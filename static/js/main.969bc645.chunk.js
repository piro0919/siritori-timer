(this["webpackJsonpsiritori-timer"]=this["webpackJsonpsiritori-timer"]||[]).push([[0],{14:function(e,t,n){e.exports={wrapper:"style_wrapper__3Hg8j",heading2:"style_heading2__19OQ7",inner:"style_inner__2rQEY",fieldset:"style_fieldset__2rau4",legend:"style_legend__1t5Uh",tip:"style_tip__LIZzy",footer:"style_footer__34uzW",button:"style_button__39gnh"}},170:function(e,t,n){},172:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n(1),r=n(9),i=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function s(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var o=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,174)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),r(e),i(e)}))},l=(n(106),n(3)),u=n(5),d=n(87),b=n.n(d),j=function(){return Object(c.jsx)("footer",{className:b.a.footer,children:"\xa9 2020 \u9650\u754c\u3057\u308a\u3068\u308a\u30bf\u30a4\u30de\u30fc"})},O=n(63),p=n.n(O),f=function(){return Object(c.jsx)("header",{className:p.a.header,children:Object(c.jsxs)("h1",{children:["\u9650\u754c\u3057\u308a\u3068\u308a",Object(c.jsx)("span",{className:p.a.red,children:"\u30bf\u30a4\u30de\u30fc"})]})})},m=n(18),h=n.n(m),x=n(70),v=n(69),_=function(e){var t=e.disabled,n=e.max,r=e.min,i=e.onChange,s=e.setValue,o=e.step,l=e.tipFormatter,u=e.value,d=Object(a.useMemo)((function(){return Object(v.a)(v.b)}),[]);return Object(a.useEffect)((function(){s(u)}),[s,u]),Object(c.jsx)(d,{disabled:t,max:n,min:r,onChange:i,step:o,tipFormatter:l,value:u})},y=n(35),g=n(14),w=n.n(g),k=n.p+"static/media/decision29.1ee4bd72.mp3",N=n(10),C=n(89),S=function(e){var t=e.howlOptions,n=Object(a.useMemo)((function(){return new C.Howl(t)}),[t]);return{howlPlay:Object(a.useCallback)((function(){n.play()}),[]),howlSetVolume:Object(a.useCallback)((function(e){n.volume(e)}),[])}},P=function(e){var t=e.control,n=e.handleSubmit,r=Object(N.a)("volume",1),i=Object(l.a)(r,1)[0],s=Object(a.useState)(0),o=Object(l.a)(s,2),d=o[0],b=o[1],j=Object(a.useState)(0),O=Object(l.a)(j,2),p=O[0],f=O[1],m=Object(u.g)().pathname,h=Object(a.useMemo)((function(){return"/expert"===m}),[m]),x=Object(a.useMemo)((function(){return p?p.toString().split("."):[]}),[p]),v=Object(l.a)(x,2),g=v[0],C=v[1],P=S({howlOptions:{volume:i,src:k}}).howlPlay,M=Object(a.useCallback)((function(){P()}),[P]);return Object(c.jsxs)("section",{className:w.a.wrapper,children:[Object(c.jsx)("h2",{className:w.a.heading2,children:"/expert"===m?"\u30a8\u30ad\u30b9\u30d1\u30fc\u30c8\u30eb\u30fc\u30eb":"\u30d1\u30fc\u30c6\u30a3\u30eb\u30fc\u30eb"}),Object(c.jsx)("form",{onSubmit:n,children:Object(c.jsxs)("div",{className:w.a.inner,children:[Object(c.jsxs)("fieldset",{className:w.a.fieldset,children:[Object(c.jsx)("legend",{className:w.a.legend,children:"\u30d7\u30ec\u30a4\u4eba\u6570\uff1a".concat(d,"\u4eba")}),Object(c.jsx)(y.a,{control:t,name:"player",render:function(e){var t=e.onChange,n=e.value;return Object(c.jsx)(_,{disabled:h,max:6,min:2,onChange:t,setValue:b,tipFormatter:function(e){return Object(c.jsx)("div",{className:w.a.tip,children:"".concat(e,"\u4eba")})},value:n})}})]}),Object(c.jsxs)("fieldset",{className:w.a.fieldset,children:[Object(c.jsx)("legend",{className:w.a.legend,children:"\u6301\u3061\u6642\u9593\uff1a".concat("0"!==g?"".concat(g,"\u5206"):"").concat(C?"30\u79d2":"")}),Object(c.jsx)(y.a,{control:t,name:"time",render:function(e){var t=e.onChange,n=e.value;return Object(c.jsx)(_,{max:10,min:.5,onChange:t,setValue:f,step:.5,tipFormatter:function(e){var t=e.toString().split("."),n=Object(l.a)(t,2),a=n[0],r=n[1];return Object(c.jsx)("div",{className:w.a.tip,children:"".concat("0"!==a?"".concat(a,"\u5206"):"").concat(r?"30\u79d2":"")})},value:n})}})]}),Object(c.jsx)("footer",{className:w.a.footer,children:Object(c.jsx)("button",{className:w.a.button,onClick:M,type:"submit",children:"\u30ec\u30c3\u30c4\u30d1\u30fc\u30c6\u30a3\uff01"})})]})})]})},M=n(7),W=n(40),E=n(91),R=n.n(E),T=n(42),B=n.n(T),F=n(41),I=n(92),V=n(93),A=n.n(V),L=n.p+"static/media/c.ac41483b.mp3",U=n.p+"static/media/c2.b75d89be.mp3",z=n(43),H=n(94),D=n(29),Y=n.n(D),q=function(e){var t=e.disabledPlay,n=e.disabledReload,r=e.disabledRevert,i=e.disabledStop,s=e.displayButton,o=e.handleClickOnReload,l=e.handleClickOnRevert,u=e.handleClickOnStart,d=e.handleClickOnStop,b=Object(a.useMemo)((function(){return"play"===s?Object(c.jsx)("button",{className:Y.a.button,disabled:t,onClick:u,children:Object(c.jsx)(z.a,{color:"#fff",size:20})}):Object(c.jsx)("button",{className:Y.a.button,disabled:i,onClick:d,children:Object(c.jsx)(z.c,{color:"#fff",size:20})})}),[t,i,s,u,d]);return Object(c.jsxs)("aside",{className:Y.a.aside,children:[b,Object(c.jsx)("button",{className:Y.a.button,disabled:r,onClick:l,children:Object(c.jsx)(z.b,{color:"#fff",size:24})}),Object(c.jsx)("button",{className:Y.a.button,disabled:n,onClick:o,children:Object(c.jsx)(H.a,{color:"#fff",size:24})})]})},G=n(95),J=n.n(G),K=n(67),Q=n.n(K),X=n.p+"static/media/decision32.59ec0c1d.mp3",Z=function(e){var t=e.addLoser,n=e.index,r=e.isStopCurrent,i=e.minute,s=e.resume,o=e.revertTime,u=e.setRevertTime,d=e.startNextPlayer,b=Object(a.useState)(60*i*1e3),j=Object(l.a)(b,2),O=j[0],p=j[1],f=Object(a.useMemo)((function(){return 100}),[]),m=Object(a.useCallback)((function(){p((function(e){return e-f>=0?e-f:0}))}),[f]),h=Object(F.a)(m,f),x=Object(l.a)(h,2),v=x[0],_=x[1],y=Object(N.a)("volume",1),g=Object(l.a)(y,1)[0],w=S({howlOptions:{volume:g,src:X}}).howlPlay,k=Object(a.useMemo)((function(){return J()(O,{colonNotation:!0,keepDecimalsOnWholeSeconds:!0})}),[O]);return Object(a.useEffect)((function(){if(s)return u(O),void v();_()}),[s,u]),Object(a.useEffect)((function(){O||(t(n),_(),d())}),[t,n,d,O]),Object(a.useEffect)((function(){!s||O===60*i*1e3||0===O||O%1e3||w()}),[w,i,s,O]),Object(a.useEffect)((function(){"undefined"!==typeof o&&p(o)}),[o]),Object(c.jsx)("button",{className:"".concat(Q.a.button," ").concat(r?Q.a.stop:""),disabled:!s,onClick:d,children:k})},$=n(96),ee=n.n($),te=function(e){var t=e.addLoser,n=e.currentPlayer,r=e.minute,i=e.players,s=e.previousPlayer,o=e.revertPlayer,l=e.revertTime,u=e.setRevertTime,d=e.startNextPlayer,b=Object(a.useMemo)((function(){return i.map((function(e,a){var i=e.key;return Object(c.jsx)(Z,{addLoser:t,index:a,isStopCurrent:"undefined"===typeof n&&s===a,minute:r,resume:n===a,revertTime:o===a?l:void 0,setRevertTime:u,startNextPlayer:d},i)}))}),[t,n,r,i,s,o,l,u,d]);return Object(c.jsx)("div",{className:ee.a.wrapper,children:b})},ne=function(){var e=Object(u.g)().search,t=Object(a.useMemo)((function(){return Object(W.parse)(e)}),[e]),n=Object(a.useMemo)((function(){var e=t.player,n=t.time;return{minute:"string"===typeof n?parseFloat(n):0,player:"string"===typeof e?parseInt(e,10):0}}),[t]),i=n.minute,s=n.player,o=Object(N.a)("volume",1),d=Object(l.a)(o,1)[0],b=Object(a.useState)(),j=Object(l.a)(b,2),O=j[0],p=j[1],f=Object(a.useMemo)((function(){return Object(M.a)(Array(s)).map((function(){return{key:R()()}}))}),[s]),m=Object(a.useCallback)((function(){p((function(e){return"undefined"!==typeof e&&e+1<f.length?e+1:0}))}),[f.length]),h=Object(a.useState)(),x=Object(l.a)(h,2),v=x[0],_=x[1],y=Object(a.useState)(),g=Object(l.a)(y,2),w=g[0],k=g[1],C=Object(I.a)(O)||void 0,P=Object(a.useState)([]),E=Object(l.a)(P,2),T=E[0],V=E[1],z=Object(a.useCallback)((function(e){V((function(t){return[].concat(Object(M.a)(t),[e])}))}),[]),H=Object(a.useState)(3),D=Object(l.a)(H,2),Y=D[0],G=D[1],J=Object(a.useCallback)((function(){G((function(e){return e-1}))}),[]),K=Object(F.a)(J,1e3),Q=Object(l.a)(K,2),X=Q[0],Z=Q[1],$=Object(a.useCallback)((function(){p("number"===typeof C?C:void 0)}),[C]),ee=Object(a.useCallback)((function(){p(void 0)}),[]),ne=Object(a.useCallback)((function(){k("number"===typeof C?C:void 0)}),[C]),ce=Object(u.f)(),ae=ce.go,re=ce.push,ie=Object(a.useCallback)((function(){ae(0)}),[ae]),se=S({howlOptions:{volume:d,src:L}}).howlPlay,oe=S({howlOptions:{volume:d,src:U}}).howlPlay,le=Object(a.useMemo)((function(){return Y>0||T.length>=f.length-1}),[Y,T.length,f.length]),ue=Object(a.useMemo)((function(){return"undefined"!==typeof O||Y>0}),[Y,O]),de=Object(a.useMemo)((function(){return"undefined"!==typeof O||"undefined"===typeof v||Y>0||T.length>=f.length-1}),[Y,O,T.length,f.length,v]),be=Object(a.useMemo)((function(){return Y>0||T.length>=f.length-1}),[Y,T.length,f.length]),je=Object(a.useMemo)((function(){return"undefined"===typeof O?"play":"stop"}),[O]),Oe=Object(a.useMemo)((function(){var e=document.getElementById("root");return Y&&e?Object(r.createPortal)(Object(c.jsx)("div",{className:B.a.countdownWrapper,children:Y}),e):null}),[Y]);return Object(a.useEffect)((function(){if(!Y)return Z(),void p(0);X()}),[Y]),Object(a.useEffect)((function(){"undefined"!==typeof w&&(k(void 0),_(void 0))}),[w]),Object(a.useEffect)((function(){T.length<f.length-1||(p(void 0),A()({buttons:{reload:{text:"\u3082\u30461\u5ea6\u904a\u3076",value:"reload"},toHome:{text:"\u30c8\u30c3\u30d7\u3078\u623b\u308b",value:"toHome"}},closeOnClickOutside:!0,icon:"success",title:"".concat(f.findIndex((function(e,t){return!T.includes(t)}))+1,"P Win!")}).then((function(e){switch(e){case"reload":return void ae(0);case"toHome":return void re("/");default:return}})))}),[ae,T,f,re]),Object(a.useEffect)((function(){Y?se():oe()}),[Y,se,oe]),Object(c.jsxs)("div",{className:B.a.wrapper,children:[Object(c.jsxs)("div",{className:B.a.inner,children:[Object(c.jsx)(te,{addLoser:z,currentPlayer:O,minute:i,players:f,previousPlayer:C,revertPlayer:w,revertTime:v,setRevertTime:_,startNextPlayer:m}),Object(c.jsx)(q,{disabledPlay:le,disabledReload:ue,disabledRevert:de,disabledStop:be,displayButton:je,handleClickOnReload:ie,handleClickOnRevert:ne,handleClickOnStart:$,handleClickOnStop:ee})]}),Oe]})},ce=n(44),ae=n.n(ce),re=n(15),ie=n.p+"static/media/decision29.1ee4bd72.mp3",se=function(){var e=Object(N.a)("volume",1),t=Object(l.a)(e,1)[0],n=S({howlOptions:{volume:t,src:ie}}).howlPlay,r=Object(a.useCallback)((function(){n()}),[n]);return Object(c.jsxs)("div",{className:ae.a.wrapper,children:[Object(c.jsx)(re.b,{className:ae.a.item,onClick:r,to:"/party",children:"\u30d1\u30fc\u30c6\u30a3\u30eb\u30fc\u30eb"}),Object(c.jsx)(re.b,{className:ae.a.item,onClick:r,to:"/expert",children:"\u30a8\u30ad\u30b9\u30d1\u30fc\u30c8\u30eb\u30fc\u30eb"})]})},oe=n(68),le=n.n(oe),ue=n.p+"static/media/decision29.1ee4bd72.mp3",de=n(97),be=n.n(de),je=n(98),Oe=n.n(je),pe=function(e){var t=e.children,n=e.disabled,a=e.handleClick;return Object(c.jsx)("button",{className:Oe.a.button,disabled:n,onClick:a,children:t})},fe=function(){var e=be()(),t=e.enabledPwa,n=e.handleClickOnInstallPrompt,r=e.isPwa,i=Object(N.a)("volume",1),s=Object(l.a)(i,2),o=s[0],u=s[1],d=S({howlOptions:{volume:o,src:ue}}),b=d.howlPlay,j=d.howlSetVolume,O=Object(a.useCallback)((function(){var e=o?0:1;u(e),j(e),b()}),[b,j,u,o]),p=Object(a.useMemo)((function(){return"\u30b5\u30a6\u30f3\u30c9\uff1a".concat(o?"\u30aa\u30f3":"\u30aa\u30d5")}),[o]);return Object(c.jsxs)("div",{className:le.a.wrapper,children:[Object(c.jsx)(se,{}),Object(c.jsxs)("div",{className:le.a.buttonsWrapper,children:[Object(c.jsx)(pe,{handleClick:O,children:p}),r?null:Object(c.jsx)(pe,{disabled:!t,handleClick:n,children:"\u30db\u30fc\u30e0\u3078\u8ffd\u52a0"})]})]})},me=function(e){var t=e.control,n=e.handleSubmit,r=Object(u.g)().pathname,i=Object(a.useMemo)((function(){return{x:"/"===r?"0":"-50%"}}),[r]),s=Object(a.useMemo)((function(){return{x:"/game"===r?"-50%":"0"}}),[r]);return Object(c.jsx)("div",{className:h.a.wrapper,children:Object(c.jsxs)(x.a.div,{animate:s,className:h.a.wrapper2,initial:!1,children:[Object(c.jsxs)("div",{className:h.a.inner,children:[Object(c.jsx)(f,{}),Object(c.jsx)("main",{className:h.a.main,children:Object(c.jsxs)(x.a.div,{animate:i,className:h.a.mainInner,initial:!1,children:[Object(c.jsx)("div",{className:h.a.item,children:"/"===r?Object(c.jsx)(fe,{}):null}),Object(c.jsx)("div",{className:h.a.item,children:"/expert"===r||"/party"===r?Object(c.jsx)(P,{control:t,handleSubmit:n}):null})]})}),Object(c.jsx)(j,{})]}),Object(c.jsx)("div",{className:h.a.gameWrapper,children:"/game"===r?Object(c.jsx)(ne,{}):null})]})})},he=n(45),xe=n.n(he),ve=n(100),_e=n(99),ye=n.n(_e),ge=function(e){var t=e.children,n=Object(ve.a)(),r=Object(a.useMemo)((function(){return{minHeight:n}}),[n]);return Object(c.jsx)(ye.a,{children:Object(c.jsxs)("div",{className:xe.a.wrapper,style:r,children:[Object(c.jsx)("div",{className:xe.a.background}),Object(c.jsx)("div",{className:xe.a.inner,children:t})]})})},we=function(){var e=Object(u.f)().push,t=Object(u.g)().pathname,n=Object(N.a)("expert",{player:2,time:5}),r=Object(l.a)(n,2),i=r[0],s=r[1],o=Object(N.a)("party",{player:2,time:1}),d=Object(l.a)(o,2),b=d[0],j=d[1],O=Object(y.b)({defaultValues:{players:0,time:0}}),p=O.control,f=O.handleSubmit,m=O.reset,h=f(Object(a.useCallback)((function(n){"/expert"===t?s(n):"/party"===t&&j(n),e("/game?".concat(Object(W.stringify)(n)))}),[t,e,s,j]));return Object(a.useEffect)((function(){"/expert"!==t&&"/party"!==t||m("/expert"===t?i:b)}),[i,b,t,m]),Object(c.jsx)(ge,{children:Object(c.jsx)(me,{control:p,handleSubmit:h})})},ke=we,Ne=we,Ce=we,Se=function(){return Object(c.jsxs)(u.c,{children:[Object(c.jsx)(u.a,{exact:!0,path:"/",children:Object(c.jsx)(we,{})}),Object(c.jsx)(u.a,{exact:!0,path:"/expert",children:Object(c.jsx)(ke,{})}),Object(c.jsx)(u.a,{exact:!0,path:"/game",children:Object(c.jsx)(Ce,{})}),Object(c.jsx)(u.a,{exact:!0,path:"/party",children:Object(c.jsx)(Ne,{})})]})},Pe=(n(170),n(171),document.getElementById("root")),Me=Object(c.jsx)(a.StrictMode,{children:Object(c.jsx)(re.a,{children:Object(c.jsx)(Se,{})})});Pe&&Pe.hasChildNodes()?Object(r.hydrate)(Me,Pe):Object(r.render)(Me,Pe),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");i?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var c=n.headers.get("content-type");404===n.status||null!=c&&-1===c.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):s(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):s(t,e)}))}}(),o()},18:function(e,t,n){e.exports={wrapper:"style_wrapper__2xj4i",wrapper2:"style_wrapper2__1z06Y",inner:"style_inner__2NuVF",main:"style_main__c2W41",mainInner:"style_mainInner__3rq0N",item:"style_item__jb7n-",gameWrapper:"style_gameWrapper__Bbvfe"}},29:function(e,t,n){e.exports={aside:"style_aside__MVUSv",button:"style_button__3Sd0G"}},42:function(e,t,n){e.exports={wrapper:"style_wrapper__2R7Ri",inner:"style_inner__2qpN-",countdownWrapper:"style_countdownWrapper__2i-ab"}},44:function(e,t,n){e.exports={wrapper:"style_wrapper__18IGY",item:"style_item__1BNBs"}},45:function(e,t,n){e.exports={wrapper:"style_wrapper__523ZX",inner:"style_inner__13AxE",background:"style_background__qDR4A","MOVE-BACKGROUND":"style_MOVE-BACKGROUND__23lFA"}},63:function(e,t,n){e.exports={header:"style_header__3O4WM",red:"style_red__1xkTi"}},67:function(e,t,n){e.exports={button:"style_button__P9eNY",stop:"style_stop__1aeB8"}},68:function(e,t,n){e.exports={wrapper:"style_wrapper__edUTU",buttonsWrapper:"style_buttonsWrapper__33pwn"}},87:function(e,t,n){e.exports={footer:"style_footer__2ccSq"}},96:function(e,t,n){e.exports={wrapper:"style_wrapper__3XgnH"}},98:function(e,t,n){e.exports={button:"style_button__3Cc2Y"}}},[[172,1,2]]]);
//# sourceMappingURL=main.969bc645.chunk.js.map