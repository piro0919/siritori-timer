(this["webpackJsonpsiritori-timer"]=this["webpackJsonpsiritori-timer"]||[]).push([[0],{102:function(e,t,n){},104:function(e,t,n){"use strict";n.r(t);var c=n(3),a=n(1),r=n(9),i=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function s(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var o=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,120)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),r(e),i(e)}))},l=(n(83),n(7)),u=n(11),j=n(60),d=n.n(j),b=function(){return Object(c.jsx)("footer",{className:d.a.footer,children:"\xa9 2020 \u9650\u754c\u3057\u308a\u3068\u308a\u30bf\u30a4\u30de\u30fc"})},p=n(47),f=n.n(p),O=function(){return Object(c.jsx)("header",{className:f.a.header,children:Object(c.jsxs)("h1",{children:["\u9650\u754c\u3057\u308a\u3068\u308a",Object(c.jsx)("span",{className:f.a.red,children:"\u30bf\u30a4\u30de\u30fc"})]})})},h=n(29),m=n.n(h),x=n(54),_=n(53),v=function(e){var t=e.disabled,n=e.max,r=e.min,i=e.onChange,s=e.setValue,o=e.step,l=e.tipFormatter,u=e.value,j=Object(a.useMemo)((function(){return Object(_.a)(_.b)}),[]);return Object(a.useEffect)((function(){s(u)}),[s,u]),Object(c.jsx)(j,{disabled:t,max:n,min:r,onChange:i,step:o,tipFormatter:l,value:u})},g=n(34),y=n(24),w=n.n(y),N=function(e){var t=e.control,n=e.handleSubmit,r=Object(a.useState)(0),i=Object(l.a)(r,2),s=i[0],o=i[1],j=Object(a.useState)(0),d=Object(l.a)(j,2),b=d[0],p=d[1],f=Object(u.g)().pathname,O=Object(a.useMemo)((function(){return"/expert"===f}),[f]),h=b?b.toString().split("."):[],m=Object(l.a)(h,2),x=m[0],_=m[1];return Object(c.jsxs)("section",{className:w.a.wrapper,children:[Object(c.jsx)("h2",{className:w.a.heading2,children:"/expert"===f?"\u30a8\u30ad\u30b9\u30d1\u30fc\u30c8\u30eb\u30fc\u30eb":"\u30d1\u30fc\u30c6\u30a3\u30eb\u30fc\u30eb"}),Object(c.jsx)("form",{onSubmit:n,children:Object(c.jsxs)("div",{className:w.a.inner,children:[Object(c.jsxs)("fieldset",{className:w.a.fieldset,children:[Object(c.jsx)("legend",{className:w.a.legend,children:"\u30d7\u30ec\u30a4\u4eba\u6570\uff1a".concat(s,"\u4eba")}),Object(c.jsx)(g.a,{control:t,name:"player",render:function(e){var t=e.onChange,n=e.value;return Object(c.jsx)(v,{disabled:O,max:6,min:2,onChange:t,setValue:o,tipFormatter:function(e){return Object(c.jsx)("div",{className:w.a.tip,children:"".concat(e,"\u4eba")})},value:n})}})]}),Object(c.jsxs)("fieldset",{className:w.a.fieldset,children:[Object(c.jsx)("legend",{className:w.a.legend,children:"\u6301\u3061\u6642\u9593\uff1a".concat("0"!==x?"".concat(x,"\u5206"):"").concat(_?"30\u79d2":"")}),Object(c.jsx)(g.a,{control:t,name:"time",render:function(e){var t=e.onChange,n=e.value;return Object(c.jsx)(v,{max:10,min:.5,onChange:t,setValue:p,step:.5,tipFormatter:function(e){var t=e.toString().split("."),n=Object(l.a)(t,2),a=n[0],r=n[1];return Object(c.jsx)("div",{className:w.a.tip,children:"".concat("0"!==a?"".concat(a,"\u5206"):"").concat(r?"30\u79d2":"")})},value:n})}})]}),Object(c.jsx)("footer",{className:w.a.footer,children:Object(c.jsx)("button",{className:w.a.button,type:"submit",children:"\u30ec\u30c3\u30c4\u30d1\u30fc\u30c6\u30a3\uff01"})})]})})]})},k=n(14),C=n(38),S=n(65),W=n.n(S),E=n(66),I=n.n(E),T=n.p+"static/media/decision32.0f71b9cd.mp3",F=function(e){var t=e.addLoser,n=e.index,r=e.minute,i=e.resume,s=e.revertTime,o=e.setRevertTime,u=e.startNextPlayer,j=Object(a.useState)(60*r*1e3),d=Object(l.a)(j,2),b=d[0],p=d[1],f=Object(C.a)((function(){p((function(e){return e-100>=0?e-100:0}))}),100),O=Object(l.a)(f,2),h=O[0],m=O[1],x=Object(a.useRef)(null);return Object(a.useEffect)((function(){if(i)return o(b),void h();m()}),[i,o]),Object(a.useEffect)((function(){if(i){if(0===b)return t(n),m(),void u();var e=x.current;!e||b%1e3||(e.currentTime=.021,e.play())}}),[t,n,i,u,b]),Object(a.useEffect)((function(){"undefined"!==typeof s&&p(s)}),[s]),Object(c.jsxs)("button",{className:I.a.button,disabled:!i,onClick:u,children:[Object(c.jsx)("audio",{preload:"auto",ref:x,children:Object(c.jsx)("source",{src:T,type:"audio/mp3"})}),W()(b,{colonNotation:!0,keepDecimalsOnWholeSeconds:!0})]})},M=n(39),A=n(67),L=n.n(A),R=n(25),z=n.n(R),B=n(41),U=n(68),H=n(70),P=n(69),V=n.n(P),D=function(){var e=Object(u.g)().search,t=Object(a.useState)(void 0),n=Object(l.a)(t,2),r=n[0],i=n[1],s=Object(M.parse)(e),o=s.player,j=s.time,d=Object(a.useMemo)((function(){return Object(k.a)(Array(parseInt(o,10))).map((function(){return{key:L()()}}))}),[o]),b=Object(a.useCallback)((function(){i((function(e){return"undefined"===typeof e||e+1>=d.length?0:e+1}))}),[d.length]),p=Object(a.useState)(),f=Object(l.a)(p,2),O=f[0],h=f[1],m=Object(a.useState)(),x=Object(l.a)(m,2),_=x[0],v=x[1],g=Object(U.a)(r),y=Object(a.useState)([]),w=Object(l.a)(y,2),N=w[0],S=w[1],W=Object(a.useCallback)((function(e){S((function(t){return[].concat(Object(k.a)(t),[e])}))}),[]),E=Object(a.useMemo)((function(){return d.map((function(e,t){var n=e.key;return Object(c.jsx)("div",{className:"undefined"===typeof r&&g===t?z.a.previous:"",children:Object(c.jsx)(F,{addLoser:W,index:t,minute:parseFloat(j),resume:r===t,revertTime:_===t?O:void 0,setRevertTime:h,startNextPlayer:b},n)})}))}),[W,r,d,g,_,O,b,j]),I=Object(a.useState)(3),T=Object(l.a)(I,2),A=T[0],R=T[1],P=Object(C.a)((function(){R((function(e){return e-1}))}),1e3),D=Object(l.a)(P,2),G=D[0],Y=D[1],q=Object(a.useCallback)((function(){null!==g&&i(g)}),[g]),J=Object(a.useCallback)((function(){i(void 0)}),[]),Z=Object(a.useCallback)((function(){null!==g&&v(g)}),[g]),K=Object(u.f)(),Q=K.go,X=K.push,$=Object(a.useCallback)((function(){Q(0)}),[Q]);return Object(a.useEffect)((function(){if(!A)return Y(),void i(0);G()}),[A]),Object(a.useEffect)((function(){"undefined"!==typeof _&&(v(void 0),h(void 0))}),[_]),Object(a.useEffect)((function(){if(!(N.length<d.length-1)){i(void 0);var e=d.findIndex((function(e,t){return!N.includes(t)}));V()({buttons:{reload:{text:"\u3082\u30461\u5ea6\u904a\u3076",value:"reload"},toHome:{text:"\u30c8\u30c3\u30d7\u3078\u623b\u308b",value:"toHome"}},icon:"success",title:"".concat(e+1,"P Win!")}).then((function(e){"reload"!==e?X("/"):Q(0)}))}}),[Q,N,d,X]),Object(c.jsxs)("div",{className:z.a.wrapper,children:[Object(c.jsxs)("div",{className:z.a.wrapper2,children:[Object(c.jsx)("div",{className:z.a.timersWrapper,children:E}),Object(c.jsxs)("aside",{className:z.a.aside,children:["undefined"===typeof r?Object(c.jsx)("button",{className:z.a.button,disabled:"undefined"!==typeof r||A>0||N.length>=d.length-1,onClick:q,children:Object(c.jsx)(B.a,{size:20})}):Object(c.jsx)("button",{className:z.a.button,disabled:"undefined"===typeof r||A>0||N.length>=d.length-1,onClick:J,children:Object(c.jsx)(B.c,{size:20})}),Object(c.jsx)("button",{className:z.a.button,disabled:"undefined"!==typeof r||"undefined"===typeof O||A>0||N.length>=d.length-1,onClick:Z,children:Object(c.jsx)(B.b,{size:24})}),Object(c.jsx)("button",{className:z.a.button,disabled:"undefined"!==typeof r||A>0,onClick:$,children:Object(c.jsx)(H.a,{size:24})})]})]}),Object(c.jsx)("div",{className:"".concat(z.a.countdownWrapper," ").concat(0===A?z.a.start:""),children:A})]})},G=n(42),Y=n.n(G),q=n(26),J=function(){return Object(c.jsxs)("div",{className:Y.a.wrapper,children:[Object(c.jsx)(q.b,{className:Y.a.item,to:"/party",children:"\u30d1\u30fc\u30c6\u30a3\u30eb\u30fc\u30eb"}),Object(c.jsx)(q.b,{className:Y.a.item,to:"/expert",children:"\u30a8\u30ad\u30b9\u30d1\u30fc\u30c8\u30eb\u30fc\u30eb"})]})},Z=n(40),K=n(51),Q=n.n(K),X=function(){var e=Object(Z.b)(),t=e.pwaInstall,n=(e.supported,e.isInstalled,Object(a.useCallback)((function(){t({title:"\u9650\u754c\u3057\u308a\u3068\u308a\u30bf\u30a4\u30de\u30fc \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb",logo:"/logo192.png",description:"\u9650\u754c\u3057\u308a\u3068\u308a\u30d1\u30fc\u30c6\u30a3\u30fc\u306e\u975e\u516c\u5f0f\u30bf\u30a4\u30de\u30fc\u30a2\u30d7\u30ea\u3067\u3059"}).then((function(){})).catch((function(){}))}),[t]));return Object(c.jsxs)("div",{className:Q.a.wrapper,children:[Object(c.jsx)(J,{}),Object(c.jsx)("button",{className:Q.a.button,onClick:n,children:"\u30db\u30fc\u30e0\u3078\u8ffd\u52a0"})]})},$=function(e){var t=e.control,n=e.handleSubmit,r=Object(u.g)().pathname,i=Object(a.useMemo)((function(){return{x:"/"===r?"0":"-50%"}}),[r]),s=Object(a.useMemo)((function(){return{x:"/game"===r?"-50%":"0"}}),[r]);return Object(c.jsx)("div",{className:m.a.wrapper,children:Object(c.jsxs)(x.a.div,{animate:s,className:m.a.wrapper2,initial:!1,children:[Object(c.jsxs)("div",{className:m.a.inner,children:[Object(c.jsx)(O,{}),Object(c.jsx)("main",{className:m.a.main,children:Object(c.jsxs)(x.a.div,{animate:i,className:m.a.mainInner,initial:!1,children:[Object(c.jsx)("div",{className:m.a.item,children:"/"===r?Object(c.jsx)(X,{}):null}),Object(c.jsx)("div",{className:m.a.item,children:"/expert"===r||"/party"===r?Object(c.jsx)(N,{control:t,handleSubmit:n}):null})]})}),Object(c.jsx)(b,{})]}),Object(c.jsx)("div",{className:m.a.gameWrapper,children:"/game"===r?Object(c.jsx)(D,{}):null})]})})},ee=n(43),te=n.n(ee),ne=n(71),ce=function(e){var t=e.children,n=Object(ne.a)().innerHeight,r=Object(a.useMemo)((function(){return{minHeight:n||window.innerHeight}}),[n]);return Object(c.jsxs)("div",{className:te.a.wrapper,style:r,children:[Object(c.jsx)("div",{className:te.a.background}),Object(c.jsx)("div",{className:te.a.inner,children:t})]})},ae=n(52),re=function(){var e=Object(u.f)().push,t=Object(u.g)().pathname,n=Object(ae.a)("expert",{player:2,time:5}),r=Object(l.a)(n,2),i=r[0],s=r[1],o=Object(ae.a)("party",{player:2,time:1}),j=Object(l.a)(o,2),d=j[0],b=j[1],p=Object(g.b)({defaultValues:{players:0,time:0}}),f=p.control,O=p.handleSubmit,h=p.reset,m=O(Object(a.useCallback)((function(n){"/expert"===t?s(n):"/party"===t&&b(n),e("/game?".concat(Object(M.stringify)(n)))}),[t,e,s,b]));return Object(a.useEffect)((function(){"/expert"!==t&&"/party"!==t||h("/expert"===t?i:d)}),[i,d,t,h]),Object(c.jsx)(ce,{children:Object(c.jsx)($,{control:f,handleSubmit:m})})},ie=re,se=re,oe=re,le=function(){return Object(c.jsxs)(u.c,{children:[Object(c.jsx)(u.a,{exact:!0,path:"/",children:Object(c.jsx)(re,{})}),Object(c.jsx)(u.a,{exact:!0,path:"/expert",children:Object(c.jsx)(ie,{})}),Object(c.jsx)(u.a,{exact:!0,path:"/game",children:Object(c.jsx)(oe,{})}),Object(c.jsx)(u.a,{exact:!0,path:"/party",children:Object(c.jsx)(se,{})})]})},ue=(n(102),n(103),document.getElementById("root")),je=Object(c.jsx)(a.StrictMode,{children:Object(c.jsx)(Z.a,{enableLogging:!1,children:Object(c.jsx)(q.a,{children:Object(c.jsx)(le,{})})})});ue&&ue.hasChildNodes()?Object(r.hydrate)(je,ue):Object(r.render)(je,ue),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");i?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var c=n.headers.get("content-type");404===n.status||null!=c&&-1===c.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):s(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):s(t,e)}))}}(),o()},24:function(e,t,n){e.exports={wrapper:"style_wrapper__3Hg8j",heading2:"style_heading2__19OQ7",inner:"style_inner__2rQEY",fieldset:"style_fieldset__2rau4",legend:"style_legend__1t5Uh",tip:"style_tip__LIZzy",footer:"style_footer__34uzW",button:"style_button__39gnh"}},25:function(e,t,n){e.exports={wrapper:"style_wrapper__2R7Ri",wrapper2:"style_wrapper2__aoJyG",timersWrapper:"style_timersWrapper__IjONz",previous:"style_previous__1EuS5",aside:"style_aside__3LfTA",button:"style_button__L2vSn",countdownWrapper:"style_countdownWrapper__2i-ab",start:"style_start__cZpi8"}},29:function(e,t,n){e.exports={wrapper:"style_wrapper__2xj4i",wrapper2:"style_wrapper2__1z06Y",inner:"style_inner__2NuVF",main:"style_main__c2W41",mainInner:"style_mainInner__3rq0N",item:"style_item__jb7n-",gameWrapper:"style_gameWrapper__Bbvfe"}},42:function(e,t,n){e.exports={wrapper:"style_wrapper__18IGY",item:"style_item__1BNBs"}},43:function(e,t,n){e.exports={wrapper:"style_wrapper__523ZX",inner:"style_inner__13AxE",background:"style_background__qDR4A","MOVE-BACKGROUND":"style_MOVE-BACKGROUND__23lFA"}},47:function(e,t,n){e.exports={header:"style_header__3O4WM",red:"style_red__1xkTi"}},51:function(e,t,n){e.exports={wrapper:"style_wrapper__edUTU",button:"style_button__3bYev"}},60:function(e,t,n){e.exports={footer:"style_footer__2ccSq"}},66:function(e,t,n){e.exports={button:"style_button__3faHt"}}},[[104,1,2]]]);
//# sourceMappingURL=main.98153527.chunk.js.map